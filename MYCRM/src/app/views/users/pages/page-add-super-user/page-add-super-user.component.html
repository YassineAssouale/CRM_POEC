<app-card-slide>
  <ng-container class="headerText">
    <h4>Ajout d'un utilisateur</h4>
  </ng-container>
  <ng-container class="slide-content">
    <div class="container">
      <form [formGroup]="superUserForm" (ngSubmit)='addUser()'>

        <div class="form-group">
          <label for="username">Nom d'utilisateur : </label>
          <input id="username" type="text" class="form-control" formControlName="username">
        </div>

        <div *ngIf="superUserForm.get('username').errors?.required && superUserForm.get('username').touched" class="alert alert-danger">Champs obligatoire</div>

        <div class="form-group">
          <label for="password">Mot de passe : </label>
          <input id="password" type="password" class="form-control" formControlName="password">
        </div>

        <div *ngIf="superUserForm.get('password').errors?.required && superUserForm.get('password').touched" class="alert alert-danger">Champs obligatoire</div>
        <div *ngIf="superUserForm.get('password').errors?.minlength && superUserForm.get('password').touched" class="alert alert-danger">8 caractères minimum</div>

        <div class="form-group">
          <label for="mail">Adresse mail : </label>
          <input type="email" class="form-control" id="mail" aria-describedby="emailHelp" formControlName="mail">
        </div>

        <div *ngIf="superUserForm.get('mail').errors?.required && superUserForm.get('mail').touched" class="alert alert-danger">Champs Email est obligatoire</div>
        <div *ngIf="superUserForm.get('mail').errors?.pattern" class="alert alert-danger">L'adresse Email n'est pas valide</div>

        <div class="form-group">
          <label for="role">Rôle : </label>
          <select id="role" class="form-control" formControlName="role">
            <option *ngFor="let role of roles" [ngValue]="role">{{role}}</option>
          </select>
        </div>

        <button type="submit" class="btn btn-info" [disabled]="superUserForm.invalid">Ajouter</button>
      </form>
    </div>
  </ng-container>
</app-card-slide>
